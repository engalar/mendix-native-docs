<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="Description">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
</head>

<body>
  <p>i am in mendix</p>
  <script>
    debugger
    addEventListener('message', event => {
      if (event.data.format) {
        alert(" 扫码结果\n" + "Result: " + result.text + "\n" + "Format: " + result.format + "\n" + "Cancelled: " +
          result.cancelled);
      }
    });
    function scan() {
      debugger
      console.log('scan btn clicked', window.parent);
      window.parent.postMessage('scan', '*');
    } 
    scan()
  </script>
  <button onclick="scan()">scan bar code in mendix</button>
  <script src="https://unpkg.com/vconsole@latest/dist/vconsole.min.js"></script>
    <script>
        // VConsole will be exported to `window.VConsole` by default.
        var vConsole = new window.VConsole();
    </script>
</body>

</html>
